% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/prevalence-plotting.R
\name{ph_volcano}
\alias{ph_volcano}
\title{Volcano plots (log2 ratio vs -log10 p) from ph_prevalence_compare()}
\usage{
ph_volcano(
  comparison_tbl,
  ranks = NULL,
  facet_pairs = TRUE,
  facet_nrow = NULL,
  facet_ncol = NULL,
  sparse_rank = NULL,
  sparse_drop_pct = 0,
  sparse_seed = NULL,
  fc_cut = 1,
  p_cut = 0.05,
  significant_colors = c(`not significant` = "#386cb0", `significant prior correction` =
    "#1b9e77", `significant post FDR correction` = "#e31a1c"),
  interactive = TRUE
)
}
\arguments{
\item{comparison_tbl}{tibble or DuckDB lazy tbl from ph_prevalence_compare()}

\item{ranks}{character vector of ranks to plot (default: all present)}

\item{facet_pairs}{logical; TRUE (default) facets all (group1,group2) pairs per rank,
FALSE returns multiple plots per pair}

\item{facet_nrow, facet_ncol}{integers controlling facet_wrap layout (optional)}

\item{sparse_rank}{character(1) rank whose "not significant" rows you want to downsample}

\item{sparse_drop_pct}{numeric in \link{0,1}; fraction of "not significant" rows to drop
within sparse_rank (default 0 = keep all). All significant rows are kept.}

\item{sparse_seed}{integer or NULL; set to make downsampling reproducible}

\item{fc_cut}{numeric; vertical cutoff for |log2(ratio)| (default 1)}

\item{p_cut}{numeric; horizontal cutoff for p-value (default 0.05)}

\item{significant_colors}{named vector for category colors}

\item{interactive}{TRUE (default) for plotly, FALSE for static ggplot}
}
\value{
A named list of plots. If facet_pairs=TRUE: one plot per rank.
If facet_pairs=FALSE: for each rank a sub-list of plots per (group1 vs group2).
}
\description{
Volcano plots (log2 ratio vs -log10 p) from ph_prevalence_compare()
}
