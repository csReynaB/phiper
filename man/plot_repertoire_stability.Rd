% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/binary-analysis_stability.R
\name{plot_repertoire_stability}
\alias{plot_repertoire_stability}
\title{Plot repertoire stability over time (Jaccard or SÃ¸rensen)}
\usage{
plot_repertoire_stability(
  stab_df,
  custom_colors = NULL,
  continuous_mode = c("gam", "binned", "loess"),
  gam_k = 7,
  ci_method = c("model", "bootstrap"),
  ci_level = 0.95,
  boot_R = 500,
  boot_seed = NULL,
  boot_progress = TRUE,
  ci_fill = "grey70",
  ci_alpha = 0.15,
  point_alpha = 0.25,
  marker_fill_colors = NULL
)
}
\arguments{
\item{stab_df}{A tibble returned by \code{\link[=compute_repertoire_similarity]{compute_repertoire_similarity()}}.
Must contain columns \code{group}, \code{time}, \code{similarity}.}

\item{custom_colors}{Optional named vector of colors for groups.
Defaults to PHIP palette.}

\item{continuous_mode}{\code{"gam"} (default), \code{"binned"}, or \code{"loess"}.}

\item{gam_k}{Requested GAM basis size per series (auto-shrinks to safe k).}

\item{ci_method}{\code{"model"} (default) or \code{"bootstrap"}.}

\item{ci_level}{Confidence level (default \code{0.95}).}

\item{boot_R}{Number of bootstrap replicates (default \code{500}).}

\item{boot_seed}{Optional integer seed for reproducibility.}

\item{boot_progress}{Logical; show textual progress bar during bootstrap
(default \code{TRUE}).}

\item{ci_fill}{Ribbon fill color (default \code{"grey70"}).}

\item{ci_alpha}{Ribbon alpha (default \code{0.15}).}

\item{point_alpha}{Alpha for raw points overlay (default \code{0.25}; set \code{0} to hide).}
}
\value{
A \code{ggplot} object.
}
\description{
Plot the output of \code{\link[=compute_repertoire_similarity]{compute_repertoire_similarity()}} as group-wise curves
over time with confidence bands. If \code{drop_self = TRUE} was used at compute
time, the plot adds \strong{one baseline marker per group}: a larger point at the
group baseline time (x), with y positioned at the \strong{mean similarity of the
earliest non-baseline time} in that group, filled by group colour and with a
black border.
}
