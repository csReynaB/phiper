% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/legacy-helpers.R
\name{.legacy_prepare_metadata}
\alias{.legacy_prepare_metadata}
\title{Prepare sample metadata and (optional) comparisons for legacy import}
\usage{
.legacy_prepare_metadata(
  samples_file,
  comparisons_file = NULL,
  timepoints_file = NULL,
  extra_cols = character()
)
}
\arguments{
\item{samples_file}{Absolute path to the samples CSV/Parquet.}

\item{comparisons_file}{Absolute path to comparisons CSV/Parquet, or \code{NULL}.}

\item{timepoints_file}{Absolute path to timepoints CSV/Parquet, or \code{NULL}.}

\item{extra_cols}{Character vector of extra metadata columns to keep.}
}
\value{
A list with elements \code{samples}, \code{comparisons} (or \code{NULL}), and
\code{extra_cols} (possibly augmented).
}
\description{
Reads the \code{samples_file}, optionally reads \code{comparisons_file}
and \code{timepoints_file}, verifies that any dummy-coded grouping columns are
mutually exclusive (row sum == 1), and collapses them into a single \code{group}
column. When \code{timepoints_file} present, it merges tha \code{samples} with
\code{timepoints} and adds an person identifier and timepoint variable.
}
\keyword{internal}
