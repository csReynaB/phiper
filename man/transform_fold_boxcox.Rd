% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fold_change-analysis.R
\name{transform_fold_boxcox}
\alias{transform_fold_boxcox}
\title{Box‑Cox‑transform the \emph{fold_change} column of a \code{phip_data}}
\usage{
transform_fold_boxcox(pd, by = NULL, confirm = interactive())
}
\arguments{
\item{pd}{A \code{phip_data} object.}

\item{by}{Optional character vector of grouping columns.  If \code{NULL}
(default) the whole data set shares one Box‑Cox \eqn{\lambda}.}

\item{confirm}{Logical.  When \code{TRUE} (default) \emph{and} interactive, prints a
warning that \code{fold_change} will be overwritten and asks the
user to continue.}
}
\value{
The same \code{phip_data}, with \code{fold_change} replaced by its Box‑Cox
transform and the attribute \code{boxcox_lambda} containing the per‑group
lambdas (tibble).
}
\description{
Applies a Box‑Cox power transformation to \code{fold_change}, either
globally or separately within groups.  The transformed values overwrite the
original column \strong{in place} (use \code{confirm = FALSE} to suppress the
interactive prompt).
}
\section{How it works}{

\itemize{
\item \strong{Backend‑agnostic} – works on in‑memory, DuckDB, Arrow, … sources.
\item For remote tables the function pulls just the grouping cols +
\code{fold_change} into R to estimate an optimal \eqn{\lambda} via
\code{MASS::boxcox()}, then joins the lambdas back and mutates remotely.
\item If \eqn{\lambda = 0} the transformation falls back to \code{log(x)}.
}
}

\examples{
library(tidyr)
pd <- phip_load_example_data()
pd2 <- transform_fold_boxcox(pd, by = "group", confirm=FALSE)
}
